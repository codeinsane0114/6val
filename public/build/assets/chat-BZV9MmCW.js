import{a as R,f as ie,b as le}from"./formatters-Cw2xOObF.js";import{bo as ce,a as q,m as e,o as c,c as x,d as s,b as t,e as l,a3 as p,x as A,f as $,v as g,al as E,t as P,F as S,y as T,Q as se,R as ae,$ as H,br as re,aZ as w,h as L,J as W,K as X,r as U,bh as de,w as ue,b2 as he,b1 as Y}from"./main-BpgBUGps.js";import{P as j}from"./vue3-perfect-scrollbar.esm-BBUBQ5qB.js";import{u as me}from"./useApi-DdK-gkOH.js";import{c as fe}from"./createUrl-DNLxE3Ao.js";import{$ as G}from"./api-TCFOQXkB.js";import{_ as oe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as B}from"./VAvatar-B9R7oHU8.js";import{V as M}from"./VImg-MA4fhMLa.js";import{V as z}from"./VBadge-Dzx2jjtl.js";import{_ as pe}from"./AppTextField-CidaaHzM.js";import{V as ne}from"./VDivider-CPy3CxIk.js";import{_ as ve}from"./AppTextarea-CSkT_cUL.js";import{V as _e,a as xe}from"./VRadioGroup-Dii_hqxm.js";import{V as ee}from"./VSwitch-lAdZ86xz.js";import{u as be,a as ge,V as Ce}from"./VMain-D42nwikt.js";import{V as J}from"./VNavigationDrawer-BkJcA9O0.js";import{V as ye}from"./VSpacer-BwkbVUnR.js";import{V as $e}from"./VForm-HbYQbjWg.js";import{V as Ve}from"./VTextField-DNnTNwAs.js";import"./helpers-DK5QwNv0.js";import"./index-B3bPRkoL.js";import"./form-jV7EneQK.js";/* empty css                   */import"./VCounter-B6UOvRBl.js";import"./VField-CsvBDBUR.js";import"./easing-CjukEv2V.js";import"./VInput-h-v4JtUG.js";import"./forwardRefs-C-GTDzx5.js";import"./VSelectionControl-tBJoG7de.js";import"./ssrBoot-Cao_hl35.js";import"./delay-CiIYTbkJ.js";import"./scopeId-D5DaYZNr.js";/* empty css              */const F=()=>({resolveAvatarBadgeVariant:o=>o==="online"?"success":o==="busy"?"error":o==="away"?"warning":"secondary"}),N=ce("chat",{state:()=>({contacts:[],chatsContacts:[],profileUser:void 0,activeChat:null}),actions:{async fetchChatsAndContacts(v){const{data:o,error:a}=await me(fe("/apps/chat/chats-and-contacts",{query:{q:v}}));if(a.value)console.log(a.value);else{const{chatsContacts:r,contacts:_,profileUser:i}=o.value;this.chatsContacts=r,this.contacts=_,this.profileUser=i}},async getChat(v){const o=await G(`/apps/chat/chats/${v}`);this.activeChat=o},async sendMsg(v){var d,n,h,m,C;const o=(d=this.profileUser)==null?void 0:d.id,a=await G(`apps/chat/chats/${(n=this.activeChat)==null?void 0:n.contact.id}`,{method:"POST",body:{message:v,senderId:o}}),{msg:r,chat:_}=a;if(_!==void 0){const u=this.activeChat;this.chatsContacts.push({...u.contact,chat:{id:_.id,lastMessage:[],unseenMsgs:0,messages:[r]}}),this.activeChat&&(this.activeChat.chat={id:_.id,messages:[r],unseenMsgs:0,userId:(h=this.activeChat)==null?void 0:h.contact.id})}else(C=(m=this.activeChat)==null?void 0:m.chat)==null||C.messages.push(r);const i=this.chatsContacts.find(u=>this.activeChat?u.id===this.activeChat.contact.id:!1);i.chat.lastMessage=r}}}),V=v=>(se("data-v-1e04f829"),v=v(),ae(),v),ke={class:"text-center px-6"},we={key:1,class:"text-3xl"},Ue={class:"text-h5"},Se={class:"text-capitalize text-body-1 mb-0"},Ie={class:"my-6"},Ae=V(()=>s("div",{class:"text-body-1 text-disabled mb-1"}," ABOUT ",-1)),Te={class:"mb-6 text-body-1"},Be={class:"mb-6"},De=V(()=>s("div",{class:"text-body-1 text-disabled mb-1"}," PERSONAL INFORMATION ",-1)),ze={class:"d-flex align-center text-high-emphasis pa-2"},Me=V(()=>s("div",{class:"text-base"}," lucifer@email.com ",-1)),Ne={class:"d-flex align-center text-high-emphasis pa-2"},Oe=V(()=>s("div",{class:"text-base"}," +1(123) 456 - 7890 ",-1)),Pe={class:"d-flex align-center text-high-emphasis pa-2"},Le=V(()=>s("div",{class:"text-base"}," Mon - Fri 10AM - 8PM ",-1)),Fe=V(()=>s("div",{class:"text-body-1 text-disabled mb-1"}," OPTIONS ",-1)),Ee={class:"d-flex align-center text-high-emphasis pa-2"},Re=V(()=>s("div",{class:"text-base"}," Add Tag ",-1)),qe={class:"d-flex align-center text-high-emphasis pa-2"},je=V(()=>s("div",{class:"text-base"}," Important Contact ",-1)),Je={class:"d-flex align-center text-high-emphasis pa-2"},He=V(()=>s("div",{class:"text-base"}," Shared Media ",-1)),Ke={class:"d-flex align-center text-high-emphasis pa-2"},Qe=V(()=>s("div",{class:"text-base"}," Block Contact ",-1)),Ze={__name:"ChatActiveChatUserProfileSidebarContent",emits:["close"],setup(v,{emit:o}){const a=N(),{resolveAvatarBadgeVariant:r}=F();return(_,i)=>{const d=q("IconBtn");return e(a).activeChat?(c(),x(S,{key:0},[s("div",{class:A(["chat-user-profile-close-button",_.$vuetify.locale.isRtl?"text-left":"text-right"])},[t(d,{onClick:i[0]||(i[0]=n=>_.$emit("close"))},{default:l(()=>[t(p,{icon:"bx-x",class:"text-medium-emphasis",size:"24"})]),_:1})],2),s("div",ke,[t(z,{location:"bottom right","offset-x":"13","offset-y":"7",bordered:"",color:e(r)(e(a).activeChat.contact.status),class:"chat-user-profile-badge mb-4 mt-12"},{default:l(()=>[t(B,{size:"84",variant:e(a).activeChat.contact.avatar?void 0:"tonal",color:e(a).activeChat.contact.avatar?void 0:e(r)(e(a).activeChat.contact.status)},{default:l(()=>[e(a).activeChat.contact.avatar?(c(),$(M,{key:0,src:e(a).activeChat.contact.avatar},null,8,["src"])):(c(),x("span",we,g(("avatarText"in _?_.avatarText:e(R))(e(a).activeChat.contact.fullName)),1))]),_:1},8,["variant","color"])]),_:1},8,["color"]),s("h5",Ue,g(e(a).activeChat.contact.fullName),1),s("p",Se,g(e(a).activeChat.contact.role),1)]),t(e(j),{class:"ps-chat-user-profile-sidebar-content text-medium-emphasis pb-6 px-6",options:{wheelPropagation:!1}},{default:l(()=>[s("div",Ie,[Ae,s("p",Te,g(e(a).activeChat.contact.about),1)]),s("div",Be,[De,s("div",ze,[t(p,{class:"me-2",icon:"bx-envelope",size:"20"}),Me]),s("div",Ne,[t(p,{class:"me-2",icon:"bx-phone",size:"20"}),Oe]),s("div",Pe,[t(p,{class:"me-2",icon:"bx-time-five",size:"20"}),Le])]),s("div",null,[Fe,s("div",Ee,[t(p,{class:"me-2",icon:"bx-bookmark",size:"20"}),Re]),s("div",qe,[t(p,{class:"me-2",icon:"bx-star",size:"20"}),je]),s("div",Je,[t(p,{class:"me-2",icon:"bx-image-alt",size:"20"}),He]),s("div",Ke,[t(p,{icon:"bx-block",class:"me-2",size:"20"}),Qe]),t(E,{block:"",color:"error","append-icon":"bx-trash",class:"mt-12"},{default:l(()=>[P(" Delete Contact ")]),_:1})])]),_:1})],64)):T("",!0)}}},We=oe(Ze,[["__scopeId","data-v-1e04f829"]]),Xe={key:1},Ye={class:"flex-grow-1 ms-4 overflow-hidden"},Ge={class:"text-base text-high-emphasis mb-0"},et={class:"mb-0 text-truncate text-body-2"},tt={key:0,class:"d-flex flex-column align-self-start"},st={class:"text-body-2 text-disabled whitespace-no-wrap"},te={__name:"ChatContact",props:{isChatContact:{type:Boolean,required:!1,default:!1},user:{type:null,required:!0}},setup(v){const o=v,a=N(),{resolveAvatarBadgeVariant:r}=F(),_=H(()=>{var d,n;const i=((d=a.activeChat)==null?void 0:d.contact.id)===o.user.id;return(o.isChatContact||!((n=a.activeChat)!=null&&n.chat))&&i});return(i,d)=>(c(),x("li",{key:e(a).chatsContacts.length,class:A(["chat-contact cursor-pointer d-flex align-center",{"chat-contact-active":e(_)}])},[t(z,{dot:"",location:"bottom right","offset-x":"3","offset-y":"0",color:e(r)(o.user.status),bordered:"","model-value":o.isChatContact},{default:l(()=>[t(B,{variant:o.user.avatar?void 0:"tonal",color:o.user.avatar?void 0:e(r)(o.user.status)},{default:l(()=>[o.user.avatar?(c(),$(M,{key:0,src:o.user.avatar,alt:"John Doe"},null,8,["src"])):(c(),x("span",Xe,g(("avatarText"in i?i.avatarText:e(R))(v.user.fullName)),1))]),_:1},8,["variant","color"])]),_:1},8,["color","model-value"]),s("div",Ye,[s("p",Ge,g(o.user.fullName),1),s("p",et,g(o.isChatContact&&"chat"in o.user?o.user.chat.lastMessage.message:o.user.about),1)]),o.isChatContact&&"chat"in o.user?(c(),x("div",tt,[s("div",st,g(("formatDateToMonthShort"in i?i.formatDateToMonthShort:e(ie))(o.user.chat.lastMessage.time)),1),o.user.chat.unseenMsgs?(c(),$(z,{key:0,color:"error",inline:"",content:o.user.chat.unseenMsgs,class:"ms-auto"},null,8,["content"])):T("",!0)])):T("",!0)],2))}},at={key:0,class:"chat-list-header"},ot=s("li",{class:"list-none"},[s("h5",{class:"chat-contact-header text-primary text-h5"}," Chats ")],-1),nt={class:"no-chat-items-text text-disabled"},it=s("li",{class:"list-none pt-3"},[s("h5",{class:"chat-contact-header text-primary text-h5"}," Contacts ")],-1),lt={class:"no-chat-items-text text-disabled"},ct={__name:"ChatLeftSidebarContent",props:{search:{type:String,required:!0},isDrawerOpen:{type:Boolean,required:!0}},emits:["openChatOfContact","showUserProfile","close","update:search"],setup(v,{emit:o}){const a=v,r=o,{resolveAvatarBadgeVariant:_}=F(),i=re(a,"search",r),d=N();return(n,h)=>{const m=pe,C=q("IconBtn");return c(),x(S,null,[e(d).profileUser?(c(),x("div",at,[t(z,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:e(_)(e(d).profileUser.status),bordered:""},{default:l(()=>[t(B,{class:"cursor-pointer",onClick:h[0]||(h[0]=u=>n.$emit("showUserProfile"))},{default:l(()=>[t(M,{src:e(d).profileUser.avatar,alt:"John Doe"},null,8,["src"])]),_:1})]),_:1},8,["color"]),t(m,{modelValue:e(i),"onUpdate:modelValue":h[1]||(h[1]=u=>w(i)?i.value=u:null),placeholder:"Search...",rounded:"","prepend-inner-icon":"bx-search",class:"ms-4 chat-list-search"},null,8,["modelValue"]),n.$vuetify.display.smAndDown?(c(),$(C,{key:0,onClick:h[2]||(h[2]=u=>n.$emit("close"))},{default:l(()=>[t(p,{icon:"bx-x",class:"text-medium-emphasis"})]),_:1})):T("",!0)])):T("",!0),t(ne),t(e(j),{tag:"ul",class:"d-flex flex-column gap-y-1 chat-contacts-list px-3 py-2 list-none",options:{wheelPropagation:!1}},{default:l(()=>[ot,(c(!0),x(S,null,L(e(d).chatsContacts,u=>(c(),$(te,{key:`chat-${u.id}`,user:u,"is-chat-contact":"",onClick:I=>n.$emit("openChatOfContact",u.id)},null,8,["user","onClick"]))),128)),W(s("span",nt,"No chats found",512),[[X,!e(d).chatsContacts.length]]),it,(c(!0),x(S,null,L(e(d).contacts,u=>(c(),$(te,{key:`chat-${u.id}`,user:u,onClick:I=>n.$emit("openChatOfContact",u.id)},null,8,["user","onClick"]))),128)),W(s("span",lt,"No contacts found",512),[[X,!e(d).contacts.length]])]),_:1})],64)}}},rt={class:"chat-log pa-6"},dt={class:"mb-0 text-base"},ut={class:"text-sm ms-2 text-disabled"},ht={__name:"ChatLog",setup(v){const o=N(),a=H(()=>{var i,d;return{id:(i=o.activeChat)==null?void 0:i.contact.id,avatar:(d=o.activeChat)==null?void 0:d.contact.avatar}}),r=i=>i.isSeen?{icon:"bx-check-double",color:"success"}:i.isDelivered?{icon:"bx-check-double",color:void 0}:{icon:"bx-check",color:void 0},_=H(()=>{let i=[];const d=[];if(o.activeChat.chat){i=o.activeChat.chat.messages;let n=i[0].senderId,h={senderId:n,messages:[]};i.forEach((m,C)=>{n===m.senderId?h.messages.push({message:m.message,time:m.time,feedback:m.feedback}):(n=m.senderId,d.push(h),h={senderId:m.senderId,messages:[{message:m.message,time:m.time,feedback:m.feedback}]}),C===i.length-1&&d.push(h)})}return d});return(i,d)=>(c(),x("div",rt,[(c(!0),x(S,null,L(e(_),(n,h)=>(c(),x("div",{key:n.senderId+String(h),class:A(["chat-group d-flex align-start",[{"flex-row-reverse":n.senderId!==e(a).id,"mb-6":e(_).length-1!==h}]])},[s("div",{class:A(["chat-avatar",n.senderId!==e(a).id?"ms-4":"me-4"])},[t(B,{size:"32"},{default:l(()=>{var m;return[t(M,{src:n.senderId===e(a).id?e(a).avatar:(m=e(o).profileUser)==null?void 0:m.avatar},null,8,["src"])]}),_:2},1024)],2),s("div",{class:A(["chat-body d-inline-flex flex-column",n.senderId!==e(a).id?"align-end":"align-start"])},[(c(!0),x(S,null,L(n.messages,(m,C)=>(c(),x("div",{key:m.time,class:A(["chat-content py-2 px-4 elevation-2",[n.senderId===e(a).id?"chat-left":"bg-primary text-white chat-right",n.messages.length-1!==C?"mb-2":"mb-1"]]),style:{"background-color":"rgb(var(--v-theme-surface))"}},[s("p",dt,g(m.message),1)],2))),128)),s("div",{class:A({"text-right":n.senderId!==e(a).id})},[n.senderId!==e(a).id?(c(),$(p,{key:0,size:"16",color:r(n.messages[n.messages.length-1].feedback).color},{default:l(()=>[P(g(r(n.messages[n.messages.length-1].feedback).icon),1)]),_:2},1032,["color"])):T("",!0),s("span",ut,g(("formatDate"in i?i.formatDate:e(le))(n.messages[n.messages.length-1].time,{hour:"numeric",minute:"numeric"})),1)],2)],2)],2))),128))]))}},D=v=>(se("data-v-a61eff17"),v=v(),ae(),v),mt={class:"chat-user-profile-close-button"},ft={class:"text-center px-6 pb-6"},pt={key:1,class:"text-3xl"},vt={class:"text-h5"},_t={class:"text-capitalize text-body-1 mb-0"},xt={class:"mb-6 text-medium-emphasis"},bt=D(()=>s("div",{for:"textarea-user-about",class:"text-base text-disabled"}," ABOUT ",-1)),gt={class:"mb-6"},Ct=D(()=>s("div",{class:"text-base text-disabled mb-1"}," STATUS ",-1)),yt={class:"text-medium-emphasis chat-settings-section"},$t=D(()=>s("div",{class:"text-base text-disabled mb-1"}," SETTINGS ",-1)),Vt={class:"d-flex align-center pa-2"},kt={class:"text-high-emphasis d-flex align-center justify-space-between flex-grow-1"},wt=D(()=>s("div",{class:"text-body-1 text-high-emphasis"}," Two-step Verification ",-1)),Ut={class:"d-flex align-center pa-2"},St={class:"text-high-emphasis d-flex align-center justify-space-between flex-grow-1"},It=D(()=>s("div",{class:"text-body-1 text-high-emphasis"}," Notification ",-1)),At={class:"d-flex align-center pa-2"},Tt=D(()=>s("div",{class:"text-high-emphasis"}," Invite Friends ",-1)),Bt={class:"d-flex align-center pa-2"},Dt=D(()=>s("div",{class:"text-high-emphasis"}," Delete Account ",-1)),zt={__name:"ChatUserProfileSidebarContent",emits:["close"],setup(v,{emit:o}){const a=N(),{resolveAvatarBadgeVariant:r}=F(),_=[{title:"Online",value:"online",color:"success"},{title:"Away",value:"away",color:"warning"},{title:"Do not disturb",value:"busy",color:"error"},{title:"Offline",value:"offline",color:"secondary"}],i=U(!0),d=U(!1);return(n,h)=>{const m=q("IconBtn"),C=ve;return e(a).profileUser?(c(),x(S,{key:0},[s("div",mt,[t(m,{onClick:h[0]||(h[0]=u=>n.$emit("close"))},{default:l(()=>[t(p,{class:"text-medium-emphasis",icon:"bx-x",size:"24"})]),_:1})]),s("div",ft,[t(z,{location:"bottom right","offset-x":"13","offset-y":"7",bordered:"",color:e(r)(e(a).profileUser.status),class:"chat-user-profile-badge mb-4 mt-12"},{default:l(()=>[t(B,{size:"84",variant:e(a).profileUser.avatar?void 0:"tonal",color:e(a).profileUser.avatar?void 0:e(r)(e(a).profileUser.status)},{default:l(()=>[e(a).profileUser.avatar?(c(),$(M,{key:0,src:e(a).profileUser.avatar},null,8,["src"])):(c(),x("span",pt,g(("avatarText"in n?n.avatarText:e(R))(e(a).profileUser.fullName)),1))]),_:1},8,["variant","color"])]),_:1},8,["color"]),s("h5",vt,g(e(a).profileUser.fullName),1),s("p",_t,g(e(a).profileUser.role),1)]),t(e(j),{class:"ps-chat-user-profile-sidebar-content pb-6 px-6",options:{wheelPropagation:!1}},{default:l(()=>[s("div",xt,[bt,t(C,{id:"textarea-user-about",modelValue:e(a).profileUser.about,"onUpdate:modelValue":h[1]||(h[1]=u=>e(a).profileUser.about=u),"auto-grow":"",class:"mt-1",rows:"3"},null,8,["modelValue"])]),s("div",gt,[Ct,t(_e,{modelValue:e(a).profileUser.status,"onUpdate:modelValue":h[2]||(h[2]=u=>e(a).profileUser.status=u)},{default:l(()=>[(c(),x(S,null,L(_,u=>t(xe,{key:u.title,label:u.title,value:u.value,color:u.color},null,8,["label","value","color"])),64))]),_:1},8,["modelValue"])]),s("div",yt,[$t,s("div",Vt,[t(p,{class:"me-2 text-high-emphasis",icon:"bx-lock-alt",size:"20"}),s("div",kt,[wt,t(ee,{modelValue:e(i),"onUpdate:modelValue":h[3]||(h[3]=u=>w(i)?i.value=u:null),density:"compact"},null,8,["modelValue"])])]),s("div",Ut,[t(p,{class:"me-2 text-high-emphasis",icon:"bx-bell",size:"20"}),s("div",St,[It,t(ee,{modelValue:e(d),"onUpdate:modelValue":h[4]||(h[4]=u=>w(d)?d.value=u:null),density:"compact"},null,8,["modelValue"])])]),s("div",At,[t(p,{class:"me-2 text-high-emphasis",icon:"bx-user-plus",size:"20"}),Tt]),s("div",Bt,[t(p,{class:"me-2 text-high-emphasis",icon:"bx-trash",size:"20"}),Dt])]),t(E,{color:"primary",class:"mt-12",block:"","append-icon":"bx-log-out"},{default:l(()=>[P(" Logout ")]),_:1})]),_:1})],64)):T("",!0)}}},Mt=oe(zt,[["__scopeId","data-v-a61eff17"]]),Nt={key:0,class:"d-flex flex-column h-100"},Ot={class:"active-chat-header d-flex align-center text-medium-emphasis bg-surface"},Pt={key:1},Lt={class:"flex-grow-1 ms-4 overflow-hidden"},Ft={class:"text-h6 mb-0 font-weight-regular"},Et={class:"text-truncate mb-0 text-body-2"},Rt={class:"d-sm-flex align-center d-none text-medium-emphasis gap-1"},qt={class:"d-flex gap-1"},jt={key:1,class:"d-flex h-100 align-center justify-center flex-column"},Jt={key:1,style:{"max-inline-size":"40ch","text-wrap":"balance"},class:"text-center text-disabled"},ws={__name:"chat",setup(v){const o=de(),a=N(),{isLeftSidebarOpen:r}=be(o.smAndDown),{resolveAvatarBadgeVariant:_}=F(),i=U(),d=()=>{const y=i.value.$el||i.value;y.scrollTop=y.scrollHeight},n=U("");ue(n,y=>a.fetchChatsAndContacts(y),{immediate:!0});const h=()=>{o.mdAndUp.value||(r.value=!0)},m=U(""),C=async()=>{m.value&&(await a.sendMsg(m.value),m.value="",Y(()=>{d()}))},u=async y=>{await a.getChat(y),m.value="";const f=a.chatsContacts.find(k=>k.id===y);f&&(f.chat.unseenMsgs=0),o.smAndDown.value&&(r.value=!1),Y(()=>{d()})},I=U(!1),O=U(!1),K=U();return(y,f)=>{const k=q("IconBtn");return c(),$(Ce,{class:"chat-app-layout"},{default:l(()=>[t(J,{modelValue:e(I),"onUpdate:modelValue":f[1]||(f[1]=b=>w(I)?I.value=b:null),temporary:"",touchless:"",absolute:"",class:"user-profile-sidebar",location:"start",border:"none",width:"370"},{default:l(()=>[t(Mt,{onClose:f[0]||(f[0]=b=>I.value=!1)})]),_:1},8,["modelValue"]),t(J,{modelValue:e(O),"onUpdate:modelValue":f[3]||(f[3]=b=>w(O)?O.value=b:null),width:"374",absolute:"",temporary:"",location:"end",border:"none",touchless:"",class:"active-chat-user-profile-sidebar"},{default:l(()=>[t(We,{onClose:f[2]||(f[2]=b=>O.value=!1)})]),_:1},8,["modelValue"]),t(J,{modelValue:e(r),"onUpdate:modelValue":f[8]||(f[8]=b=>w(r)?r.value=b:null),absolute:"",touchless:"",location:"start",width:"370",temporary:y.$vuetify.display.smAndDown,class:"chat-list-sidebar",permanent:y.$vuetify.display.mdAndUp},{default:l(()=>[t(ct,{isDrawerOpen:e(r),"onUpdate:isDrawerOpen":f[4]||(f[4]=b=>w(r)?r.value=b:null),search:e(n),"onUpdate:search":f[5]||(f[5]=b=>w(n)?n.value=b:null),onOpenChatOfContact:u,onShowUserProfile:f[6]||(f[6]=b=>I.value=!0),onClose:f[7]||(f[7]=b=>r.value=!1)},null,8,["isDrawerOpen","search"])]),_:1},8,["modelValue","temporary","permanent"]),t(ge,{class:"chat-content-container"},{default:l(()=>[e(a).activeChat?(c(),x("div",Nt,[s("div",Ot,[t(k,{class:"d-md-none me-3",onClick:f[9]||(f[9]=b=>r.value=!0)},{default:l(()=>[t(p,{icon:"bx-menu"})]),_:1}),s("div",{class:"d-flex align-center cursor-pointer",onClick:f[10]||(f[10]=b=>O.value=!0)},[t(z,{dot:"",location:"bottom right","offset-x":"3","offset-y":"0",color:e(_)(e(a).activeChat.contact.status),bordered:""},{default:l(()=>[t(B,{variant:e(a).activeChat.contact.avatar?void 0:"tonal",color:e(a).activeChat.contact.avatar?void 0:e(_)(e(a).activeChat.contact.status),class:"cursor-pointer"},{default:l(()=>[e(a).activeChat.contact.avatar?(c(),$(M,{key:0,src:e(a).activeChat.contact.avatar,alt:e(a).activeChat.contact.fullName},null,8,["src","alt"])):(c(),x("span",Pt,g(("avatarText"in y?y.avatarText:e(R))(e(a).activeChat.contact.fullName)),1))]),_:1},8,["variant","color"])]),_:1},8,["color"]),s("div",Lt,[s("div",Ft,g(e(a).activeChat.contact.fullName),1),s("p",Et,g(e(a).activeChat.contact.role),1)])]),t(ye),s("div",Rt,[t(k,null,{default:l(()=>[t(p,{icon:"bx-phone"})]),_:1}),t(k,null,{default:l(()=>[t(p,{icon:"bx-video"})]),_:1}),t(k,null,{default:l(()=>[t(p,{icon:"bx-search"})]),_:1}),t(k,null,{default:l(()=>[t(p,{icon:"bx-dots-vertical-rounded"})]),_:1})])]),t(ne),t(e(j),{ref_key:"chatLogPS",ref:i,tag:"ul",options:{wheelPropagation:!1},class:"flex-grow-1"},{default:l(()=>[t(ht)]),_:1},512),t($e,{class:"chat-log-message-form mb-6 mx-6",onSubmit:he(C,["prevent"])},{default:l(()=>{var b;return[(c(),$(Ve,{key:(b=e(a).activeChat)==null?void 0:b.contact.id,modelValue:e(m),"onUpdate:modelValue":f[12]||(f[12]=Q=>w(m)?m.value=Q:null),variant:"solo",density:"default",class:"chat-message-input",placeholder:"Type your message",autofocus:""},{"append-inner":l(()=>[s("div",qt,[t(k,null,{default:l(()=>[t(p,{icon:"bx-microphone",class:"text-high-emphasis"})]),_:1}),t(k,{onClick:f[11]||(f[11]=Q=>{var Z;return(Z=e(K))==null?void 0:Z.click()})},{default:l(()=>[t(p,{icon:"bx-paperclip",class:"text-high-emphasis"})]),_:1}),t(E,{onClick:C},{append:l(()=>[t(p,{icon:"bx-paper-plane",color:"#fff"})]),default:l(()=>[P(" Send ")]),_:1})])]),_:1},8,["modelValue"])),s("input",{ref_key:"refInputEl",ref:K,type:"file",name:"file",accept:".jpeg,.png,.jpg,GIF",hidden:""},null,512)]}),_:1})])):(c(),x("div",jt,[t(B,{size:"98",variant:"tonal",color:"primary",class:"mb-4"},{default:l(()=>[t(p,{size:"50",class:"rounded-0",icon:"bx-message-rounded"})]),_:1}),y.$vuetify.display.smAndDown?(c(),$(E,{key:0,rounded:"pill",onClick:h},{default:l(()=>[P(" Start Conversation ")]),_:1})):(c(),x("p",Jt," Start connecting with the people by selecting one of the contact on left "))]))]),_:1})]),_:1})}}};export{ws as default};
