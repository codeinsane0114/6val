import{f as Me}from"./formatters-Cw2xOObF.js";import{r as k,a as ie,o as u,f as D,e as t,b as e,d as l,m as a,aZ as O,ba as ue,c as z,y as Z,al as ee,t as h,a3 as c,w as _e,$ as q,F as T,h as N,q as fe,v as $,i as he,J,K,b2 as H,x as Y,bb as Le,I as Te}from"./main-BpgBUGps.js";import{P as ce}from"./vue3-perfect-scrollbar.esm-BBUBQ5qB.js";import{_ as be}from"./TiptapEditor-DH72Tlh7.js";import{V as G}from"./VCardText-RhVa6W5U.js";import{V as W}from"./VSpacer-BwkbVUnR.js";import{V as Q}from"./VTextField-DNnTNwAs.js";import{V as F}from"./VDivider-CPy3CxIk.js";import{V as X}from"./VCard-DPA8ST1d.js";import{V as ge}from"./VChip-Gdsswa87.js";import{$ as ve}from"./api-TCFOQXkB.js";import{V as U}from"./VTooltip-Cuy6b6Ub.js";import{V as te}from"./VMenu-D0wOrHxC.js";import{V as ae,a as le,b as se}from"./VList-Bu48BGuL.js";import{V as ye}from"./VBadge-Dzx2jjtl.js";import{V as $e}from"./VAvatar-B9R7oHU8.js";import{V as re}from"./VImg-MA4fhMLa.js";import{V as ke}from"./VNavigationDrawer-BkJcA9O0.js";import{u as De,V as Ae,a as Re}from"./VMain-D42nwikt.js";import{u as Ie}from"./useApi-DdK-gkOH.js";import{c as Ue}from"./createUrl-DNLxE3Ao.js";import{V as xe}from"./VCheckbox-DLyduI3k.js";import"./helpers-DK5QwNv0.js";import"./index-D2c9LgJT.js";import"./index-CP92O-j7.js";/* empty css              *//* empty css                   */import"./VCounter-B6UOvRBl.js";import"./VField-CsvBDBUR.js";import"./form-jV7EneQK.js";import"./easing-CjukEv2V.js";import"./VInput-h-v4JtUG.js";import"./forwardRefs-C-GTDzx5.js";import"./VSlideGroup-qhrbewnN.js";import"./index-B3bPRkoL.js";import"./VOverlay-BSwVgU5G.js";import"./delay-CiIYTbkJ.js";import"./lazy-CKzIgbSD.js";import"./scopeId-D5DaYZNr.js";import"./dialog-transition-Dw95iG-S.js";import"./ssrBoot-Cao_hl35.js";import"./VCheckboxBtn-KnKlC77n.js";import"./VSelectionControl-tBJoG7de.js";const Be={class:"d-flex align-center"},Ne=l("h5",{class:"text-h5 text-medium-emphasis"}," Compose Mail ",-1),Fe={class:"d-flex align-center gap-x-2"},Pe={class:"px-1 pe-6 py-1"},Oe=l("div",{class:"text-base font-weight-medium text-disabled"}," To: ",-1),je={class:"cursor-pointer text-body-1"},qe=l("span",null," | ",-1),He={key:0},Je={class:"px-1 pe-6 py-1"},Ke=l("div",{class:"text-disabled font-weight-medium"}," Cc: ",-1),We={key:0},Ze={class:"px-1 pe-6 py-1"},Ge=l("div",{class:"text-disabled font-weight-medium"}," Bcc: ",-1),Qe={class:"px-1 pe-6 py-1"},Xe=l("div",{class:"text-base font-weight-medium text-disabled"}," Subject: ",-1),Ye={class:"d-flex align-center px-6 py-4"},et={__name:"ComposeDialog",emits:["close"],setup(E,{emit:A}){const r=k(""),C=k(""),b=k(""),M=k(""),V=k(""),B=k(""),v=k(!1),x=k(!1),g=()=>{C.value=b.value=M.value=""};return(R,o)=>{const S=ie("IconBtn"),_=be;return u(),D(X,{class:"email-compose-dialog","max-width":"30vw"},{default:t(()=>[e(G,{class:"py-3 px-6",style:{"background-color":"rgba(var(--v-theme-on-surface), var(--v-hover-opacity))"}},{default:t(()=>[l("div",Be,[Ne,e(W),l("div",Fe,[e(S,{size:"small",icon:"bx-minus",onClick:o[0]||(o[0]=n=>R.$emit("close"))}),e(S,{size:"small",icon:"bx-x",onClick:o[1]||(o[1]=n=>{R.$emit("close"),g()})})])])]),_:1}),l("div",Pe,[e(Q,{modelValue:a(C),"onUpdate:modelValue":o[4]||(o[4]=n=>O(C)?C.value=n:null),density:"compact"},{"prepend-inner":t(()=>[Oe]),append:t(()=>[l("span",je,[l("span",{onClick:o[2]||(o[2]=n=>v.value=!a(v))},"Cc"),qe,l("span",{onClick:o[3]||(o[3]=n=>x.value=!a(x))},"Bcc")])]),_:1},8,["modelValue"])]),e(ue,null,{default:t(()=>[a(v)?(u(),z("div",He,[e(F),l("div",Je,[e(Q,{modelValue:a(V),"onUpdate:modelValue":o[5]||(o[5]=n=>O(V)?V.value=n:null),density:"compact"},{"prepend-inner":t(()=>[Ke]),_:1},8,["modelValue"])])])):Z("",!0)]),_:1}),e(ue,null,{default:t(()=>[a(x)?(u(),z("div",We,[e(F),l("div",Ze,[e(Q,{modelValue:a(B),"onUpdate:modelValue":o[6]||(o[6]=n=>O(B)?B.value=n:null),density:"compact"},{"prepend-inner":t(()=>[Ge]),_:1},8,["modelValue"])])])):Z("",!0)]),_:1}),e(F),l("div",Qe,[e(Q,{modelValue:a(b),"onUpdate:modelValue":o[7]||(o[7]=n=>O(b)?b.value=n:null),density:"compact"},{"prepend-inner":t(()=>[Xe]),_:1},8,["modelValue"])]),e(F),e(_,{modelValue:a(r),"onUpdate:modelValue":o[8]||(o[8]=n=>O(r)?r.value=n:null),placeholder:"Message"},null,8,["modelValue"]),l("div",Ye,[e(ee,{color:"primary",class:"me-4","append-icon":"bx-paper-plane",disabled:a(C)==="",onClick:o[9]||(o[9]=n=>{R.$emit("close"),r.value="",g()})},{default:t(()=>[h(" send ")]),_:1},8,["disabled"]),e(S,{size:"small"},{default:t(()=>[e(c,{icon:"bx-paperclip"})]),_:1}),e(W),e(S,{size:"small",class:"me-2"},{default:t(()=>[e(c,{icon:"bx-dots-vertical-rounded"})]),_:1}),e(S,{size:"small",onClick:o[10]||(o[10]=n=>{R.$emit("close"),g(),r.value=""})},{default:t(()=>[e(c,{icon:"bx-trash"})]),_:1})])]),_:1})}}},tt={class:"d-flex flex-column h-100"},at={class:"pa-6"},lt={class:"email-filters py-4"},st=["href","onClick"],it={class:"text-base"},ot={class:"email-labels py-4"},nt=l("div",{class:"text-caption text-disabled mb-4 px-6"}," LABELS ",-1),rt=["href","onClick"],dt={class:"text-body-1 text-high-emphasis"},ct=Object.assign({inheritAttrs:!1},{__name:"EmailLeftSidebarContent",props:{emailsMeta:{type:Object,required:!0}},emits:["toggleComposeDialogVisibility"],setup(E,{emit:A}){const r=E,C=k(0),b=k(0),M=k(0),V=k(0);_e(()=>r.emailsMeta,x=>{x&&(C.value=x.inbox,b.value=x.draft,M.value=x.spam,V.value=x.star)},{immediate:!0,deep:!0});const B=q(()=>[{title:"Inbox",prependIcon:"bx-envelope",to:{name:"apps-email"},badge:{content:C.value,color:"primary"}},{title:"Sent",prependIcon:"bx-send",to:{name:"apps-email-filter",params:{filter:"sent"}}},{title:"Draft",prependIcon:"bx-edit",to:{name:"apps-email-filter",params:{filter:"draft"}},badge:{content:b.value,color:"warning"}},{title:"Starred",prependIcon:"bx-star",to:{name:"apps-email-filter",params:{filter:"starred"}},badge:{content:V.value,color:"success"}},{title:"Spam",prependIcon:"bx-error-alt",to:{name:"apps-email-filter",params:{filter:"spam"}},badge:{content:M.value,color:"error"}},{title:"Trash",prependIcon:"bx-trash",to:{name:"apps-email-filter",params:{filter:"trashed"}}}]),v=[{title:"Personal",color:"success",to:{name:"apps-email-label",params:{label:"personal"}}},{title:"Company",color:"primary",to:{name:"apps-email-label",params:{label:"company"}}},{title:"Important",color:"warning",to:{name:"apps-email-label",params:{label:"important"}}},{title:"Private",color:"error",to:{name:"apps-email-label",params:{label:"private"}}}];return(x,g)=>{const R=ie("RouterLink");return u(),z("div",tt,[l("div",at,[e(ee,{block:"",onClick:g[0]||(g[0]=o=>x.$emit("toggleComposeDialogVisibility"))},{default:t(()=>[h(" Compose ")]),_:1})]),e(a(ce),{options:{wheelPropagation:!1},class:"h-100"},{default:t(()=>[l("ul",lt,[(u(!0),z(T,null,N(a(B),o=>(u(),D(R,{key:o.title,class:"d-flex align-center cursor-pointer align-center",to:o.to,custom:""},{default:t(({isActive:S,href:_,navigate:n})=>{var f;return[l("li",fe({ref_for:!0},x.$attrs,{href:_,class:[S&&"email-filter-active text-primary","d-flex align-center cursor-pointer"],onClick:n}),[e(c,{icon:o.prependIcon,class:"me-2",size:"20"},null,8,["icon"]),l("div",it,$(o.title),1),e(W),(f=o.badge)!=null&&f.content?(u(),D(ge,{key:0,color:o.badge.color,label:"",size:"small",class:"rounded-xl px-3"},{default:t(()=>{var p;return[h($((p=o.badge)==null?void 0:p.content),1)]}),_:2},1032,["color"])):Z("",!0)],16,st)]}),_:2},1032,["to"]))),128))]),l("ul",ot,[nt,(u(),z(T,null,N(v,o=>e(R,{key:o.title,class:"d-flex align-center",to:o.to,custom:""},{default:t(({isActive:S,href:_,navigate:n})=>[l("li",fe({ref_for:!0},x.$attrs,{href:_,class:[S&&"email-label-active text-primary","cursor-pointer d-flex align-center"],onClick:n}),[e(c,{icon:"bx-bxs-circle",color:o.color,class:"me-2",size:"10"},null,8,["color"]),l("div",dt,$(o.title),1)],16,rt)]),_:2},1032,["to"])),64))])]),_:1})])}}}),de=()=>{const E=he(),A=async(v,x)=>{await ve("apps/email",{method:"POST",body:JSON.stringify({ids:v,data:x})})};return{labels:[{title:"personal",color:"success"},{title:"company",color:"primary"},{title:"important",color:"warning"},{title:"private",color:"error"}],resolveLabelColor:v=>v==="personal"?"success":v==="company"?"primary":v==="important"?"warning":v==="private"?"error":"secondary",shallShowMoveToActionFor:v=>v==="trash"?E.params.filter!=="trashed":v==="inbox"?!(E.params.filter===void 0||E.params.filter==="sent"||E.params.filter==="draft"):v==="spam"?!(E.params.filter==="spam"||E.params.filter==="sent"||E.params.filter==="draft"):!1,emailMoveToFolderActions:[{action:"inbox",icon:"bx-mail"},{action:"spam",icon:"bx-error-alt"},{action:"trash",icon:"bx-trash"}],moveSelectedEmailTo:async(v,x)=>{const g={};v==="inbox"?(E.params.filter==="trashed"&&(g.isDeleted=!1),g.folder="inbox"):v==="spam"?(E.params.filter==="trashed"&&(g.isDeleted=!1),g.folder="spam"):v==="trash"&&(g.isDeleted=!0),await A(x,g)},updateEmails:A,updateEmailLabels:async(v,x)=>{await ve("/apps/email",{method:"POST",body:{ids:v,label:x}})}}},mt={class:"email-view-header d-flex align-center px-6 py-4"},pt={class:"d-flex align-center flex-wrap flex-grow-1 overflow-hidden gap-2"},ut={class:"text-body-1 text-high-emphasis text-truncate"},ft={class:"d-flex flex-wrap gap-2"},vt={class:"d-flex align-center gap-1"},xt={class:"email-view-action-bar d-flex align-center text-medium-emphasis ps-6 pe-4 gap-x-1"},_t={class:"d-flex align-center gap-x-1"},ht={class:"d-flex align-start align-sm-center pa-6 gap-x-4"},bt={class:"d-flex flex-wrap flex-grow-1 overflow-hidden"},gt={class:"text-truncate"},yt={class:"text-body-1 font-weight-medium text-high-emphasis text-truncate"},$t={class:"text-sm"},kt={class:"d-flex align-center gap-x-4"},Ct={class:"text-disabled text-base"},Vt={class:"text-body-1 font-weight-medium text-truncate mb-4"},wt=["innerHTML"],zt=l("span",null,"2 Attachments",-1),Et={class:"text-base"},St=l("span",{class:"text-primary cursor-pointer"}," Forward ",-1),Mt={class:"text-body-1 text-high-emphasis mb-6"},Lt={class:"d-flex justify-end gap-4 pt-2 flex-wrap"},Tt={__name:"EmailView",props:{email:{type:null,required:!0},emailMeta:{type:Object,required:!0}},emits:["refresh","navigated","close","trash","unread","read","star","unstar"],setup(E,{emit:A}){const r=E,C=A,b=k(""),M=k(!1),V=k(!0),{updateEmailLabels:B}=de(),{labels:v,resolveLabelColor:x,emailMoveToFolderActions:g,shallShowMoveToActionFor:R,moveSelectedEmailTo:o}=de(),S=async n=>{await o(n,[r.email.id]),C("refresh"),C("close")},_=async n=>{await B([r.email.id],n),C("refresh")};return(n,f)=>{const p=ie("IconBtn"),oe=be;return u(),D(ke,{temporary:"","model-value":!!r.email,location:"right",scrim:!1,floating:"",class:"email-view"},{default:t(()=>[r.email?(u(),z(T,{key:0},[l("div",mt,[e(p,{class:"me-2",onClick:f[0]||(f[0]=m=>{n.$emit("close"),M.value=!1,V.value=!0,b.value=""})},{default:t(()=>[e(c,{size:"22",icon:"bx-chevron-left",class:"flip-in-rtl text-medium-emphasis"})]),_:1}),l("div",pt,[l("div",ut,$(r.email.subject),1),l("div",ft,[(u(!0),z(T,null,N(r.email.labels,m=>(u(),D(ge,{key:m,color:a(x)(m),class:"text-capitalize flex-shrink-0",size:"small"},{default:t(()=>[h($(m),1)]),_:2},1032,["color"]))),128))])]),l("div",null,[l("div",vt,[e(p,{disabled:!r.emailMeta.hasPreviousEmail,onClick:f[1]||(f[1]=m=>n.$emit("navigated","previous"))},{default:t(()=>[e(c,{icon:"bx-chevron-left",class:"flip-in-rtl text-medium-emphasis"})]),_:1},8,["disabled"]),e(p,{disabled:!r.emailMeta.hasNextEmail,onClick:f[2]||(f[2]=m=>n.$emit("navigated","next"))},{default:t(()=>[e(c,{icon:"bx-chevron-right",class:"flip-in-rtl text-medium-emphasis"})]),_:1},8,["disabled"])])])]),e(F),l("div",xt,[J(e(p,{onClick:f[3]||(f[3]=m=>{n.$emit("trash"),n.$emit("close")})},{default:t(()=>[e(c,{icon:"bx-trash",size:"22"}),e(U,{activator:"parent",location:"top"},{default:t(()=>[h(" Delete Mail ")]),_:1})]),_:1},512),[[K,!r.email.isDeleted]]),e(p,{onClick:f[4]||(f[4]=H(m=>{n.$emit("unread"),n.$emit("close")},["stop"]))},{default:t(()=>[e(c,{icon:"bx-envelope",size:"22"}),e(U,{activator:"parent",location:"top"},{default:t(()=>[h(" Mark as Unread ")]),_:1})]),_:1}),e(p,null,{default:t(()=>[e(c,{icon:"bx-folder",size:"22"}),e(U,{activator:"parent",location:"top"},{default:t(()=>[h(" Move to ")]),_:1}),e(te,{activator:"parent"},{default:t(()=>[e(ae,{density:"compact"},{default:t(()=>[(u(!0),z(T,null,N(a(g),m=>(u(),D(le,{key:m.title,class:Y([a(R)(m.action)?"d-flex":"d-none","align-center"]),href:"#",onClick:I=>S(m.action)},{prepend:t(()=>[e(c,{icon:m.icon,class:"me-2",size:"20"},null,8,["icon"])]),default:t(()=>[e(se,{class:"text-capitalize"},{default:t(()=>[h($(m.action),1)]),_:2},1024)]),_:2},1032,["class","onClick"]))),128))]),_:1})]),_:1})]),_:1}),e(p,null,{default:t(()=>[e(c,{icon:"bx-label",size:"22"}),e(U,{activator:"parent",location:"top"},{default:t(()=>[h(" Label ")]),_:1}),e(te,{activator:"parent"},{default:t(()=>[e(ae,{density:"compact"},{default:t(()=>[(u(!0),z(T,null,N(a(v),m=>(u(),D(le,{key:m.title,href:"#",onClick:H(I=>_(m.title),["stop"])},{prepend:t(()=>[e(ye,{inline:"",color:a(x)(m.title),dot:""},null,8,["color"])]),default:t(()=>[e(se,{class:"ms-2 text-capitalize"},{default:t(()=>[h($(m.title),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1}),e(W),l("div",_t,[e(p,{color:r.email.isStarred?"warning":"default",onClick:f[5]||(f[5]=m=>{var I;(I=r.email)!=null&&I.isStarred?n.$emit("unstar"):n.$emit("star"),n.$emit("refresh")})},{default:t(()=>[e(c,{icon:r.email.isStarred?"bx-bxs-star":"bx-star",size:"22"},null,8,["icon"])]),_:1},8,["color"]),e(p,null,{default:t(()=>[e(c,{icon:"bx-dots-vertical-rounded",size:"22"})]),_:1})])]),e(F),e(a(ce),{tag:"div",class:"mail-content-container flex-grow-1 pa-sm-12 pa-6",options:{wheelPropagation:!1}},{default:t(()=>[e(X,{class:"mb-4"},{default:t(()=>[l("div",ht,[e($e,{size:"38"},{default:t(()=>[e(re,{src:r.email.from.avatar,alt:r.email.from.name},null,8,["src","alt"])]),_:1}),l("div",bt,[l("div",gt,[l("div",yt,$(r.email.from.name),1),l("div",$t,$(r.email.from.email),1)]),e(W),l("div",kt,[l("div",Ct,$(new Date(r.email.time).toDateString()),1),l("div",null,[J(e(p,null,{default:t(()=>[e(c,{icon:"bx-paperclip",size:"22"})]),_:1},512),[[K,r.email.attachments.length]]),e(p,null,{default:t(()=>[e(c,{icon:"bx-dots-vertical-rounded",size:"22"})]),_:1})])])])]),e(F),e(G,null,{default:t(()=>[l("div",Vt,$(r.email.from.name)+", ",1),l("div",{class:"text-base",innerHTML:r.email.message},null,8,wt)]),_:1}),r.email.attachments.length?(u(),z(T,{key:0},[e(F),e(G,{class:"d-flex flex-column gap-y-4 pt-4"},{default:t(()=>[zt,(u(!0),z(T,null,N(r.email.attachments,m=>(u(),z("div",{key:m.fileName,class:"d-flex align-center"},[e(re,{src:m.thumbnail,alt:m.fileName,"aspect-ratio":"1","max-height":"24","max-width":"24",class:"me-2"},null,8,["src","alt"]),l("span",null,$(m.fileName),1)]))),128))]),_:1})],64)):Z("",!0)]),_:1}),J(e(X,null,{default:t(()=>[e(G,{class:"font-weight-medium text-high-emphasis"},{default:t(()=>[l("div",Et,[h(" Click here to "),l("span",{class:"text-primary cursor-pointer",onClick:f[6]||(f[6]=m=>{M.value=!a(M),V.value=!a(V)})}," Reply "),h(" or "),St])]),_:1})]),_:1},512),[[K,a(V)]]),a(M)?(u(),D(X,{key:0},{default:t(()=>[e(G,null,{default:t(()=>{var m;return[l("div",Mt," Reply to "+$((m=E.email)==null?void 0:m.from.name),1),e(oe,{modelValue:a(b),"onUpdate:modelValue":f[7]||(f[7]=I=>O(b)?b.value=I:null),placeholder:"Write your message...","is-divider":!1},null,8,["modelValue"]),l("div",Lt,[e(p,{icon:"bx-trash",onClick:f[8]||(f[8]=I=>{M.value=!a(M),V.value=!a(V),b.value=""})}),e(ee,{variant:"text",color:"secondary"},{prepend:t(()=>[e(c,{icon:"bx-paperclip",color:"secondary",size:"16"})]),default:t(()=>[h(" Attachments ")]),_:1}),e(ee,{"append-icon":"bx-paper-plane"},{default:t(()=>[h(" Send ")]),_:1})])]}),_:1})]),_:1})):Z("",!0)]),_:1})],64)):Z("",!0)]),_:1},8,["model-value"])}}},Dt={class:"d-flex align-center"},At={class:"py-2 px-4 d-flex align-center d-flex gap-x-1"},Rt=["onClick"],It={class:"text-h6"},Ut={class:"text-body-2 truncate"},Bt={class:"text-sm text-disabled"},Nt={class:"email-actions d-none"},Ft={class:"py-4 px-5 text-center"},Pt=l("span",{class:"text-high-emphasis"},"No items found.",-1),Ot=[Pt],Ta={__name:"index",async setup(E){let A,r;const{isLeftSidebarOpen:C}=De(),b=he(),{labels:M,resolveLabelColor:V,emailMoveToFolderActions:B,shallShowMoveToActionFor:v,moveSelectedEmailTo:x,updateEmails:g,updateEmailLabels:R}=de(),o=k(!1),S=k(""),_=k([]),{data:n,execute:f}=([A,r]=Le(()=>Ie(Ue("/apps/email",{query:{q:S,filter:()=>"filter"in b.params?b.params.filter:void 0,label:()=>"label"in b.params?b.params.label:void 0}}))),A=await A,r(),A),p=q(()=>n.value.emails),oe=q(()=>n.value.emailsMeta),m=d=>{const i=_.value.indexOf(d);i===-1?_.value.push(d):_.value.splice(i,1)},I=q(()=>p.value.length&&p.value.length===_.value.length),me=q(()=>!!_.value.length&&p.value.length!==_.value.length),ne=q(()=>_.value.every(d=>{var i;return(i=p.value.find(w=>w.id===d))==null?void 0:i.isRead})),Ce=()=>{_.value=I.value?[]:p.value.map(d=>d.id)},y=k(null),Ve=q(()=>{const d={hasNextEmail:!1,hasPreviousEmail:!1};if(y.value){const i=p.value.findIndex(w=>{var s;return w.id===((s=y.value)==null?void 0:s.id)});d.hasNextEmail=!!p.value[i+1],d.hasPreviousEmail=!!p.value[i-1]}return d}),pe=async()=>{await f(),y.value&&(y.value=p.value.find(d=>{var i;return d.id===((i=y.value)==null?void 0:i.id)}))},L=async(d,i=_.value)=>{_.value=[],_.value=[],i.length&&(d==="trash"?await g(i,{isDeleted:!0}):d==="spam"?await g(i,{folder:"spam"}):d==="unread"?await g(i,{isRead:!1}):d==="read"?await g(i,{isRead:!0}):d==="star"?await g(i,{isStarred:!0}):d==="unstar"&&await g(i,{isStarred:!1}),y.value?pe():await f())},we=async d=>{await x(d,_.value),await f()},ze=async d=>{await R(_.value,d),await f()},Ee=d=>{if(!y.value)return;const i=p.value.findIndex(s=>{var j;return s.id===((j=y.value)==null?void 0:j.id)}),w=d==="previous"?i-1:i+1;y.value=p.value[w]},Se=async d=>{y.value=d,await L("read",[d.id])};return _e(()=>b.params,()=>{_.value=[]},{deep:!0}),(d,i)=>{const w=ie("IconBtn");return u(),D(Ae,{style:{"min-block-size":"100%"},class:"email-app-layout"},{default:t(()=>[e(ke,{modelValue:a(C),"onUpdate:modelValue":i[1]||(i[1]=s=>O(C)?C.value=s:null),absolute:"",touchless:"",location:"start",temporary:d.$vuetify.display.mdAndDown},{default:t(()=>[e(ct,{"emails-meta":a(oe),onToggleComposeDialogVisibility:i[0]||(i[0]=s=>o.value=!a(o))},null,8,["emails-meta"])]),_:1},8,["modelValue","temporary"]),e(Tt,{email:a(y),"email-meta":a(Ve),onRefresh:pe,onNavigated:Ee,onClose:i[2]||(i[2]=s=>y.value=null),onTrash:i[3]||(i[3]=s=>L("trash",a(y)?[a(y).id]:[])),onUnread:i[4]||(i[4]=s=>L("unread",a(y)?[a(y).id]:[])),onStar:i[5]||(i[5]=s=>L("star",a(y)?[a(y).id]:[])),onUnstar:i[6]||(i[6]=s=>L("unstar",a(y)?[a(y).id]:[]))},null,8,["email","email-meta"]),e(Re,null,{default:t(()=>[e(X,{flat:"",class:"email-content-list h-100 d-flex flex-column"},{default:t(()=>[l("div",Dt,[e(w,{class:"d-lg-none ms-3",onClick:i[7]||(i[7]=s=>C.value=!0)},{default:t(()=>[e(c,{icon:"bx-menu"})]),_:1}),e(Q,{modelValue:a(S),"onUpdate:modelValue":i[8]||(i[8]=s=>O(S)?S.value=s:null),density:"default",class:"email-search px-sm-2 flex-grow-1 py-1",placeholder:"Search mail"},{"prepend-inner":t(()=>[e(c,{icon:"bx-search",size:"22",class:"me-2 text-medium-emphasis"})]),_:1},8,["modelValue"])]),e(F),l("div",At,[e(xe,{"model-value":a(I),indeterminate:a(me),class:"d-flex","onUpdate:modelValue":Ce},null,8,["model-value","indeterminate"]),l("div",{class:"w-100 d-flex align-center action-bar-actions gap-x-1",style:Te({visibility:a(me)||a(I)?void 0:"hidden"})},[J(e(w,{onClick:i[9]||(i[9]=s=>L("trash"))},{default:t(()=>[e(c,{icon:"bx-trash",size:"22"}),e(U,{activator:"parent",location:"top"},{default:t(()=>[h(" Delete Mail ")]),_:1})]),_:1},512),[[K,"filter"in a(b).params?a(b).params.filter!=="trashed":!0]]),e(w,{onClick:i[10]||(i[10]=s=>a(ne)?L("unread"):L("read"))},{default:t(()=>[e(c,{icon:a(ne)?"bx-envelope":"bx-envelope-open",size:"22"},null,8,["icon"]),e(U,{activator:"parent",location:"top"},{default:t(()=>[h($(a(ne)?"Mark as Unread":"Mark as Read"),1)]),_:1})]),_:1}),e(w,null,{default:t(()=>[e(c,{icon:"bx-folder",size:"22"}),e(U,{activator:"parent",location:"top"},{default:t(()=>[h(" Folder ")]),_:1}),e(te,{activator:"parent"},{default:t(()=>[e(ae,{density:"compact"},{default:t(()=>[(u(!0),z(T,null,N(a(B),s=>(u(),D(le,{key:s.title,class:Y([a(v)(s.action)?"d-flex":"d-none","items-center"]),href:"#",onClick:j=>we(s.action)},{prepend:t(()=>[e(c,{icon:s.icon,class:"me-2",size:"20"},null,8,["icon"])]),default:t(()=>[e(se,{class:"text-capitalize"},{default:t(()=>[h($(s.action),1)]),_:2},1024)]),_:2},1032,["class","onClick"]))),128))]),_:1})]),_:1})]),_:1}),e(w,null,{default:t(()=>[e(c,{icon:"bx-label",size:"22"}),e(U,{activator:"parent",location:"top"},{default:t(()=>[h(" Label ")]),_:1}),e(te,{activator:"parent"},{default:t(()=>[e(ae,{density:"compact"},{default:t(()=>[(u(!0),z(T,null,N(a(M),s=>(u(),D(le,{key:s.title,href:"#",onClick:j=>ze(s.title)},{prepend:t(()=>[e(ye,{inline:"",color:a(V)(s.title),dot:""},null,8,["color"])]),default:t(()=>[e(se,{class:"ms-2 text-capitalize"},{default:t(()=>[h($(s.title),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1})],4),e(W),e(w,{onClick:a(f)},{default:t(()=>[e(c,{icon:"bx-refresh",size:"22"})]),_:1},8,["onClick"]),e(w,null,{default:t(()=>[e(c,{icon:"bx-dots-vertical-rounded",size:"22"})]),_:1})]),e(F),e(a(ce),{tag:"ul",options:{wheelPropagation:!1},class:"email-list"},{default:t(()=>[(u(!0),z(T,null,N(a(p),s=>{var j;return J((u(),z("li",{key:s.id,class:Y(["email-item d-flex align-center pa-4 gap-2 cursor-pointer",[{"email-read":s.isRead}]]),onClick:P=>Se(s)},[e(xe,{"model-value":a(_).includes(s.id),class:"flex-shrink-0","onUpdate:modelValue":P=>m(s.id),onClick:i[11]||(i[11]=H(()=>{},["stop"]))},null,8,["model-value","onUpdate:modelValue"]),e(w,{color:s.isStarred?"warning":"default",onClick:H(P=>L(s.isStarred?"unstar":"star",[s.id]),["stop"])},{default:t(()=>[e(c,{icon:"bx-star",size:"22"})]),_:2},1032,["color","onClick"]),e($e,{size:"32"},{default:t(()=>[e(re,{src:s.from.avatar,alt:s.from.name},null,8,["src","alt"])]),_:2},1024),l("h6",It,$(s.from.name),1),l("span",Ut,$(s.subject),1),e(W),l("div",{class:Y(["email-meta align-center gap-2",d.$vuetify.display.xs?"d-none":""])},[(u(!0),z(T,null,N(s.labels,P=>(u(),D(c,{key:P,icon:"bx-bxs-circle",size:"8",color:a(V)(P)},null,8,["color"]))),128)),l("span",Bt,$(("formatDateToMonthShort"in d?d.formatDateToMonthShort:a(Me))(s.time)),1)],2),l("div",Nt,[e(w,{onClick:H(P=>L("trash",[s.id]),["stop"])},{default:t(()=>[e(c,{icon:"bx-trash",size:"22"}),e(U,{activator:"parent",location:"top"},{default:t(()=>[h(" Delete Mail ")]),_:1})]),_:2},1032,["onClick"]),e(w,{class:"mx-1",onClick:H(P=>L(s.isRead?"unread":"read",[s.id]),["stop"])},{default:t(()=>[e(c,{icon:s.isRead?"bx-envelope":"bx-envelope-open",size:"22"},null,8,["icon"]),e(U,{activator:"parent",location:"top"},{default:t(()=>[h($(s.isRead?"Mark as Unread":"Mark as Read"),1)]),_:2},1024)]),_:2},1032,["onClick"]),e(w,{onClick:H(P=>L("spam",[s.id]),["stop"])},{default:t(()=>[e(c,{icon:"bx-info-circle",size:"22"}),e(U,{activator:"parent",location:"top"},{default:t(()=>[h(" Move to Spam ")]),_:1})]),_:2},1032,["onClick"])])],10,Rt)),[[K,(j=a(p))==null?void 0:j.length]])}),128)),J(l("li",Ft,Ot,512),[[K,!a(p).length]])]),_:1})]),_:1}),J(e(et,{onClose:i[12]||(i[12]=s=>o.value=!1)},null,512),[[K,a(o)]])]),_:1})]),_:1})}}};export{Ta as default};
